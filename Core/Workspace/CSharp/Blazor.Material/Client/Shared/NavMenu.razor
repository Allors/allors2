@using Microsoft.AspNetCore.Components
@inject IUriHelper Url

<nav class="mdc-list">
    @foreach (string section in sections)
    {
        <hr class="mdc-list-divider">
        <h6 class="mdc-list-group__subheader">@section</h6>

        @foreach (var navItem in navItems.Where(n => n.Section == section))
        {
            <a class="mdc-list-item mdc-list-item--activated" href="@Url.ToAbsoluteUri(navItem.Url).AbsoluteUri" aria-current="page">
                @if (!string.IsNullOrWhiteSpace(navItem.Icon))
                {
                    <i class="material-icons mdc-list-item__graphic" aria-hidden="true">@navItem.Icon</i>
                }
                <span class="mdc-list-item__text">@navItem.Name</span>
            </a>
        }
    }
</nav>

@code
{
    class NavItem
    {
        public string Section;
        public string Name;
        public string Icon;
        public string Url;
    }

    NavItem[] navItems;
    string[] sections;

    protected async override System.Threading.Tasks.Task OnInitializedAsync()
    {
        await base.OnInitializedAsync();

        const string general = "General";
        const string relations = "Relations";

        sections = new string[] { general, relations };
        navItems = new[]
        {
            new NavItem()
            {
                Section = general,
                Name = "Counter",
                Url = "counter",
            },
            new NavItem()
            {
                Section = relations,
                Name = "Organisations",
                Url = "organisation/list",
            },
            new NavItem()
            {
                Section = relations,
                Name = "People",
                Url = "person/list",
            },
        }.OrderBy(i => i.Name).ToArray();
    }
}
