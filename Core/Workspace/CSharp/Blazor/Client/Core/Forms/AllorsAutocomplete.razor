<MatAutocomplete Collection="@Options" ItemType="Person" Label="Select person" CustomStringSelector="@(i => i.FirstName)" @bind-Value="@Model">
    <ItemTemplate>
        <div style="display: flex; flex-direction: row; width: 100%;">
            <div style="flex: 1;">@context.FirstName</div>
        </div>
    </ItemTemplate>
</MatAutocomplete>

@code {
    [CascadingParameter]
    public EditContext EditContext { get; set; }

    [Parameter]
    public RoleType RoleType { get; set; }

    [Parameter]
    public ISessionObject Object { get; set; }

    [Parameter]
    public string Label { get; set; }

    [Parameter]
    public bool FullWidth { get; set; } = true;

    Person[] Options { get; set; } = Array.Empty<Person>();

    public ISessionObject DerivedObject
    {
        get
        {
            return this.Object ?? (ISessionObject)this.EditContext.Model;
        }
    }

    public string DerivedLabel
    {
        get
        {
            return this.Label ?? this.RoleType.DisplayName;
        }
    }

    public Person Model
    {
        get
        {
            return (Person)this.DerivedObject.Get(this.RoleType);
        }

        set
        {
            this.DerivedObject.Set(this.RoleType, value);
        }
    }

}
