@using Allors.Workspace.Blazor.Validation
<BSForm @attributes="Attributes" OnSubmit="@OnSubmit" OnValidSubmit="@OnValidSubmit" OnInvalidSubmit="@OnInvalidSubmit">
    <CascadingValue Value="@ValidationFields">
        <AllorsValidator Validation="Validation"/>
        @ChildContent
    </CascadingValue>
</BSForm>

@code {
    [Parameter]
    public RenderFragment ChildContent { get; set; }

    [Parameter(CaptureUnmatchedValues = true)]
    public IReadOnlyDictionary<string, object> Attributes { get; set; }

    [Parameter]
    public EventCallback<EditContext> OnSubmit { get; set; }

    [Parameter]
    public EventCallback<EditContext> OnValidSubmit { get; set; }

    [Parameter]
    public EventCallback<EditContext> OnInvalidSubmit { get; set; }

    [Parameter]
    public IAllorsValidation Validation { get; set; }

    public AllorsValidationFields ValidationFields { get; } = new AllorsValidationFields();
}
